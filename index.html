<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ü©∫ Nursing Prometric Actual Simulation Test</title>

<!-- Social thumbnail -->
<meta property="og:title" content="ü©∫Nursing Prometric Actual Simulation Test">
<meta property="og:description" content="500 tricky & hard level test items with rationale. Based on Prometric, SMLE & NCLEX.">
<meta property="og:image" content="https://raw.githubusercontent.com/gyoutrain-lab/production-prometrictest1/main/assets/icon17%20(1).jpg">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">

<style>
  :root{
    --glass-bg: rgba(255,255,255,0.32);
    --glass-strong: rgba(255,255,255,0.5);
    --accent-blue: #0d6efd;
    --accent-green: #28a745;
    --accent-gold: #ffd54a;
    --text-dark: #042d62;
  }

  /* Reset + base */
  *{box-sizing:border-box}
  html,body{height:100%; margin:0; font-family: "Inter", "Helvetica Neue", Arial, sans-serif; -webkit-font-smoothing:antialiased;}
  body{background:#f3f6f9; color:var(--text-dark); text-align:center; overflow-x:hidden; padding-bottom:40px;}

  /* Top hero */
  .top-hero{width:100%; height:48vh; background: url('https://github.com/gyoutrain-lab/production-prometrictest1/blob/main/assets/icon17%20(1).jpg?raw=true') center/cover no-repeat; position:relative;}
  .flowing-bg{position:relative; width:100%; height:48vh; background: url('https://github.com/gyoutrain-lab/production-prometrictest1/blob/main/assets/icon17%20(1).jpg?raw=true') repeat-x bottom; opacity:0.14; filter: blur(2px); background-size:cover; animation:flowWave 32s linear infinite; z-index:0}
  @keyframes flowWave{0%{background-position:0 bottom}50%{background-position:520px bottom}100%{background-position:0 bottom}}

  /* Title */
  .title-container{position:relative; margin-top:-42vh; z-index:2; text-align:center; padding:0 12px;}
  .title-h1{display:inline-flex; align-items:center; gap:10px; font-size:26px; font-weight:800; color:var(--text-dark);}
  .title-h1 .title-emoji{font-size:28px}
  .title-sub{margin-top:6px; font-size:15px; color:rgba(4,45,98,0.92); opacity:0.95}

  /* Social icons */
  .social-icons{margin-top:14px; display:flex; justify-content:center; gap:12px; align-items:center}
  .social-icons a img{width:40px; height:40px; border-radius:50%; box-shadow:0 6px 18px rgba(0,0,0,0.12); transition: transform .22s ease, box-shadow .22s ease}
  .social-icons a img:hover{transform:translateY(-6px) scale(1.12); box-shadow:0 12px 32px rgba(0,122,255,0.14)}

  /* Card layout */
  .card-row{display:flex; justify-content:center; align-items:flex-start; gap:22px; margin-top:18px; flex-wrap:wrap; padding:0 16px}
  .form-card{
    min-width:260px; max-width:360px; width:100%;
    background:var(--glass-bg);
    border-radius:18px;
    padding:20px;
    box-shadow: 0 14px 40px rgba(6,24,70,0.10), inset 0 1px 0 rgba(255,255,255,0.06);
    backdrop-filter: blur(12px) saturate(120%);
    -webkit-backdrop-filter: blur(12px) saturate(120%);
    text-align:left;
  }
  .qr-card{
    width:180px; min-width:180px;
    background:var(--glass-strong);
    border-radius:16px;
    padding:14px;
    display:flex; align-items:center; justify-content:center;
    box-shadow: 0 12px 34px rgba(6,24,70,0.10);
    backdrop-filter: blur(12px);
  }
  .qr-card img{width:150px; border-radius:12px; display:block}

  /* Form fields */
  label{display:block; font-weight:700; margin-top:10px; color:#06304b}
  .input{
    display:block; width:100%; padding:10px 12px; margin-top:6px;
    border-radius:12px; border:1px solid rgba(6,24,70,0.08);
    background: rgba(255,255,255,0.9); font-size:14px; outline:none;
    transition: box-shadow .18s ease, border-color .18s ease, transform .12s;
  }
  .input:focus{box-shadow:0 6px 20px rgba(8,56,123,0.09); border-color: rgba(6,24,70,0.18); transform:translateY(-1px)}

  /* Buttons ‚Äî segmented pro glass */
  .seg-wrapper{width:100%; display:flex; justify-content:center; margin-top:14px}
  .seg{display:flex; gap:8px; width:100%; align-items:stretch}
  .seg .btn{
    flex:1; display:inline-flex; gap:10px; align-items:center; justify-content:center;
    padding:12px 8px; border-radius:12px; border:none; cursor:pointer;
    font-weight:700; font-size:14px; color:#fff;
    transition: transform .18s ease, box-shadow .18s ease, filter .18s;
    box-shadow: 0 8px 22px rgba(6,24,70,0.10);
    position:relative; overflow:visible;
  }

  .btn .icon{display:inline-flex; width:20px; height:20px; align-items:center; justify-content:center; font-size:16px; opacity:0.98}

  /* Colors */
  .btn-demo{background: linear-gradient(90deg, #ffd54a 0%, #ffc107 100%); color:#0b2b2b}
  .btn-confirm{background: linear-gradient(90deg,#0d6efd 0%, #0056b3 100%)}
  .btn-continue{background: linear-gradient(90deg,#2ecc71 0%, #1e7e34 100%)}

  /* Icon left placement */
  .btn .label{display:inline-block}

  /* soft glow on hover */
  .btn:hover{transform:translateY(-4px); filter:brightness(1.03); box-shadow: 0 14px 36px rgba(6,24,70,0.14)}
  .btn:active{transform:scale(.98); box-shadow: 0 6px 18px rgba(6,24,70,0.08)}

  /* soft neon edge on hover */
  .btn-demo:hover::after,
  .btn-confirm:hover::after,
  .btn-continue:hover::after{
    content:""; position:absolute; inset:-1px; border-radius:13px;
    box-shadow: 0 10px 30px rgba(0,122,255,0.08);
    pointer-events:none;
  }

  /* DEMO pulse (soft) */
  @keyframes pulseSoft {
    0% { box-shadow: 0 8px 22px rgba(255, 197, 61, 0.18); transform: translateY(0) }
    50% { box-shadow: 0 18px 40px rgba(255, 197, 61, 0.26); transform: translateY(-3px) }
    100% { box-shadow: 0 8px 22px rgba(255, 197, 61, 0.18); transform: translateY(0) }
  }
  .btn-demo.pulse{
    animation: pulseSoft 2.6s ease-in-out infinite;
  }

  /* small helper text */
  .demo-note{font-size:13px; color:rgba(4,45,98,0.85); margin:8px 0 6px; text-align:center}

  /* Responsive tweaks */
  @media (max-width:780px){
    .card-row{flex-direction:column; align-items:center}
    .qr-card{order:2}
  }

  /* Quiz styles (kept lean) */
  .quiz-container{max-width:780px; margin:36px auto; padding:28px; display:none}
  .question-box{background:#e9f5ff; padding:18px; border-radius:12px; font-size:18px; min-height:80px; display:flex; align-items:center; justify-content:center; box-shadow:0 6px 18px rgba(6,24,70,0.06)}
  .options{margin-top:14px; display:flex; flex-direction:column; gap:10px}
  .option-btn{padding:12px; border-radius:10px; border:1px solid #d3dbe6; background:white; cursor:pointer; font-size:16px}
  .option-btn.correct{background:linear-gradient(90deg,#d6f3ff,#b3e5fc)}
  .option-btn.incorrect{background:linear-gradient(90deg,#ffd6d6,#ffc9c9)}
  #msg{min-height:24px; font-weight:700; margin-top:12px}
</style>
</head>
<body>

  <!-- HERO -->
  <div class="top-hero"></div>
  <div class="flowing-bg"></div>

  <!-- TITLE & SOCIAL -->
  <div class="title-container" role="banner" aria-label="Landing header">
    <div class="title-h1"><span class="title-emoji">ü©∫</span><span>Nursing Prometric Actual Simulation Test</span></div>
    <div class="title-sub">500 tricky & hard-level items ‚Äî based on Prometric, SMLE & NCLEX</div>

    <div class="social-icons" aria-hidden="false" role="navigation" aria-label="social links">
      <a href="tel:+6285399652487" title="Telephone"><img src="https://cdn-icons-png.flaticon.com/512/597/597177.png" alt="phone"></a>
      <a href="https://wa.me/6285399652487" target="_blank" rel="noopener" title="WhatsApp"><img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" alt="whatsapp"></a>
      <a href="mailto:gyoutrain@gmail.com" target="_blank" rel="noopener" title="Email"><img src="https://cdn-icons-png.flaticon.com/512/732/732200.png" alt="email"></a>
      <a href="https://web.facebook.com/gyouskill/" target="_blank" rel="noopener" title="Facebook"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="facebook"></a>
      <a href="https://www.instagram.com/etkyogya" target="_blank" rel="noopener" title="Instagram"><img src="https://cdn-icons-png.flaticon.com/512/733/733558.png" alt="instagram"></a>
    </div>
  </div>

  <!-- CARD ROW -->
  <div class="card-row" role="main">
    <div class="form-card" aria-labelledby="formTitle">
      <div id="formTitle" style="font-weight:800; margin-bottom:6px; font-size:16px">Access Panel</div>

      <label for="name">Full Name</label>
      <input id="name" class="input" type="text" placeholder="Enter your full name" aria-label="Full name">

      <label for="wa">WhatsApp Number</label>
      <input id="wa" class="input" type="text" placeholder="e.g. 6285399652487" aria-label="WhatsApp number">

      <label for="unlock">Unlock Code</label>
      <input id="unlock" class="input" type="text" placeholder="Enter Unlock Code (for full test)" aria-label="Unlock code">

      <div class="demo-note">Try the free demo first ‚Äî no unlock required. Fill name & WA then click Demo.</div>

      <div class="seg-wrapper">
        <div class="seg" role="group" aria-label="action buttons">
          <button id="btnDemo" class="btn btn-demo pulse" aria-label="Demo Test">
            <span class="icon" aria-hidden="true">ü©∫</span>
            <span class="label">Demo</span>
          </button>

          <button id="btnConfirm" class="btn btn-confirm" aria-label="Confirmation">
            <span class="icon" aria-hidden="true">‚õëÔ∏è</span>
            <span class="label">Confirm</span>
          </button>

          <button id="btnContinue" class="btn btn-continue" aria-label="Continue Next Test">
            <span class="icon" aria-hidden="true">üíâ</span>
            <span class="label">Continue</span>
          </button>
        </div>
      </div>
    </div>

    <div class="qr-card" aria-hidden="false">
      <img src="https://github.com/gyoutrain-lab/production-prometrictest1/blob/main/assets/dana_qr.png?raw=true" alt="Payment QR">
    </div>
  </div>

  <!-- QUIZ container (hidden until start) -->
  <section class="quiz-container" id="quizBox" aria-live="polite" aria-hidden="true">
    <div class="question-box" id="questionText">Question will appear here</div>
    <div class="options" id="optionsBox">
      <button class="option-btn" id="optA" onclick="checkAnswer('A')"></button>
      <button class="option-btn" id="optB" onclick="checkAnswer('B')"></button>
      <button class="option-btn" id="optC" onclick="checkAnswer('C')"></button>
      <button class="option-btn" id="optD" onclick="checkAnswer('D')"></button>
    </div>
    <div id="msg" role="status"></div>
    <div id="scorebox" style="margin-top:14px"></div>
  </section>

  <!-- audio -->
  <audio id="audioCorrect" src="assets/inspiring_correct.mp3" preload="auto"></audio>
  <audio id="audioWrong" src="assets/wrong.mp3" preload="auto"></audio>

<script>
/* ============================
   Backend URLs (main / demo)
   ============================ */
const mainBackend = "https://script.google.com/macros/s/AKfycbyyZ09UJdmwjvPrMVqjEPZmkXa40cyfC-kH4KDhoDTx1vdmhhX5BV1UDi8rjZbGhcDQ/exec";
const demoBackend = "https://script.google.com/macros/s/AKfycbwvKxmFkKqMAMqqZ49B47AvOHOSy8a4qAebICHYW0_I_SUY2k8i9xh5D1EddAG-OO5n/exec";

/* Utility: simple flash for errors */
function flash(text){
  alert(text);
}

/* DEMO: opens demo backend (new tab) with minimal params.
   Demo is free ‚Äî no unlock required. */
function demoTest(){
  const name = document.getElementById("name").value.trim();
  const wa   = document.getElementById("wa").value.trim();

  if(!name || !wa){
    flash("Please fill in Name and WhatsApp number to try the demo.");
    return;
  }

  // Open demo backend in a new tab with query params (shows demo test from demo sheet)
  const url = demoBackend + `?name=${encodeURIComponent(name)}&phone=${encodeURIComponent(wa)}`;
  window.open(url, "_blank", "noopener");
}

/* CONFIRMATION: minimal logging + open WhatsApp to send proof */
async function confirmation(){
  const name = document.getElementById("name").value.trim();
  const wa   = document.getElementById("wa").value.trim();

  if(!name || !wa){
    flash("Please fill in Name and WhatsApp number before confirmation.");
    return;
  }

  // send to main backend for logging (no-cors)
  try{
    await fetch(mainBackend, {
      method: "POST",
      mode: "no-cors",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ action: "confirmation", name, phone: wa })
    });
  } catch(e){
    // network may be blocked by no-cors, ignore but inform
    console.warn("confirmation log failed (no-cors):", e);
  }

  // open WA message to admin for payment proof
  const admin = "6285399652487";
  const adminMessage = `Payment Confirmation%0AFrom: ${encodeURIComponent(name)}%0AWA: ${encodeURIComponent(wa)}%0A%0APlease share proof QR IDR 50k to get UNLOCK code.`;
  const waUrl = `https://wa.me/${admin}?text=${adminMessage}`;
  window.open(waUrl, "_blank", "noopener");
  flash("Confirmation initiated. Please send the proof to admin via WhatsApp.");
}

/* CONTINUE: requires unlock code, checks with main backend then starts quiz */
async function continueTest(){
  const name = document.getElementById("name").value.trim();
  const wa   = document.getElementById("wa").value.trim();
  const unlock = document.getElementById("unlock").value.trim();

  if(!name || !wa || !unlock){
    flash("Please fill Name, WhatsApp number, and Unlock Code to continue.");
    return;
  }

  try{
    const res = await fetch(mainBackend + "?check=" + encodeURIComponent(unlock));
    // backend returns JSON (must allow CORS)
    const data = await res.json();

    if(data.ok){
      // Hide landing and show quiz
      document.getElementById("quizBox").style.display = "block";
      document.getElementById("quizBox").setAttribute("aria-hidden","false");
      document.querySelector('.card-row').style.display = "none";
      document.querySelector('.title-container').style.display = "none";
      startQuiz(unlock);
    } else {
      flash("Invalid or expired unlock code. Please check your code or contact admin.");
    }
  } catch(err){
    console.error(err);
    flash("Network error while checking unlock code. Try again.");
  }
}

/* ============================
   Quiz logic: load from main backend
   ============================ */
let questions = [];
let currentIndex = 0;
let correctCount = 0;
let incorrectCount = 0;

function startQuiz(authCode){
  // authCode may be used by backend to return appropriate set
  fetch(mainBackend + "?questions=true")
    .then(r => r.json())
    .then(data => {
      if(!Array.isArray(data) || data.length===0){
        flash("No questions returned from server.");
        return;
      }
      questions = data;
      currentIndex = 0;
      correctCount = 0;
      incorrectCount = 0;
      loadQuestion();
    })
    .catch(e => {
      console.error(e);
      flash("Failed to load questions: " + e);
    });
}

function loadQuestion(){
  if(!questions[currentIndex]) {
    showScore();
    return;
  }
  const q = questions[currentIndex];
  document.getElementById("questionText").textContent = `Q${q.number}: ${q.question}`;
  document.getElementById("optA").textContent = "A. " + (q.options[0]||"");
  document.getElementById("optB").textContent = "B. " + (q.options[1]||"");
  document.getElementById("optC").textContent = "C. " + (q.options[2]||"");
  document.getElementById("optD").textContent = "D. " + (q.options[3]||"");
  // clear styles
  ["optA","optB","optC","optD"].forEach(id => {
    const el = document.getElementById(id);
    el.classList.remove("correct","incorrect");
    el.disabled = false;
  });
  document.getElementById("msg").textContent = "";
}

function checkAnswer(selected){
  const current = questions[currentIndex];
  if(!current) return;
  const correct = current.correct; // expected format 'A' etc
  ["optA","optB","optC","optD"].forEach(id=>{
    const el = document.getElementById(id);
    el.disabled = true;
    if(id.toUpperCase().endsWith(correct)) el.classList.add("correct");
    if(id.toUpperCase().endsWith(selected) && selected!==correct) el.classList.add("incorrect");
  });
  if(selected === correct){
    correctCount++;
    const audioCorrect = document.getElementById("audioCorrect");
    audioCorrect && (audioCorrect.currentTime = 0) && audioCorrect.play();
    document.getElementById("msg").textContent = "‚úÖ Correct!";
  } else {
    incorrectCount++;
    const audioWrong = document.getElementById("audioWrong");
    audioWrong && (audioWrong.currentTime = 0) && audioWrong.play();
    document.getElementById("msg").textContent = `‚ùå Wrong! Correct: ${correct}\n${current.rationale||''}`;
  }
  currentIndex++;
  setTimeout(()=> {
    if(currentIndex < questions.length) loadQuestion();
    else showScore();
  }, 1200);
}

function showScore(){
  const total = questions.length || 1;
  const score = Math.round((correctCount/total)*100);
  const status = score >= 70 ? "PASS" : "NOT PASS";
  document.getElementById("quizBox").innerHTML = `
    <div style="padding:18px; border-radius:12px; box-shadow:0 8px 22px rgba(0,0,0,0.06); background:#fff">
      <h2>Test Completed</h2>
      <p>Correct: ${correctCount} / ${total}</p>
      <p>Incorrect: ${incorrectCount} / ${total}</p>
      <p>Score: ${score}%</p>
      <p>Status: ${status}</p>
    </div>
  `;
}

/* Wire up button listeners (improve accessibility) */
document.getElementById('btnDemo').addEventListener('click', demoTest);
document.getElementById('btnConfirm').addEventListener('click', confirmation);
document.getElementById('btnContinue').addEventListener('click', continueTest);

/* Stop demo pulse after first click (gentle UX) */
document.getElementById('btnDemo').addEventListener('click', function(){
  this.classList.remove('pulse');
  setTimeout(()=> this.classList.add('pulse'), 4000); // re-enable after a short rest
});
</script>
</body>
</html>
